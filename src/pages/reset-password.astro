---
import PasswordResetView from "../components/auth/PasswordResetView"
import AuthLayout from "../layouts/AuthLayout.astro"

export const prerender = false

type MaybeUser = { id: string; email?: string | null } | undefined

const user = Astro.locals.user as MaybeUser
if (user) {
  return Astro.redirect("/in-progress")
}
---

<AuthLayout title="Reset password | Backlog Burner">
  <main aria-labelledby="reset-password-heading">
    <h1 id="reset-password-heading" class="sr-only">Reset your password</h1>
    <PasswordResetView client:only="react" mode="request" />
  </main>
</AuthLayout>
